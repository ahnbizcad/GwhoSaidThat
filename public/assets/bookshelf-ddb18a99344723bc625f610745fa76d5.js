!function(t){t.bookshelfSlider=function(i,e){function n(){if(!l)switch(h.buttons_align){case"left":f.css("float","left");break;case"center":var e=0;t(i+" .button_bar").each(function(){e+=t(this).width()+h.buttons_margin}),e+=20;var n=parseInt(e/d.width()*100);f.css("width",n+"%");break;case"right":f.css("float","right"),f.css("margin-right",h.buttons_margin)}}function o(){if(t(i+" #products_box_"+b+" .product:last-child").length){var e=t(i+" #products_box_"+b+" .product:last-child"),n=e.height()+e.offset().top,o=d.height()+d.offset().top;return o>n-143&&I.css("opacity",.3),n>o?!0:!1}}function s(){var e=t(i+" #products_box_"+b+" .product:first-child"),n=e.offset().top,o=d.offset().top;return n+143>o&&O.css("opacity",.3),o>n?!0:!1}function a(){new Date-M<j?setTimeout(a,j):(Q=!1,b=0,y[0]=void 0,t(i+" .slide_animate").css("top",0),t(i+" #btn1").trigger("click"))}function r(){t(i).trigger("resize")}e&&t.extend(t.bookshelfSlider.config,e);var h=t.bookshelfSlider.config,d=t(i+" .panel_slider"),c=t(i+" #arrow_menu"),p=t(i+" .slide_animate"),u=t(i+" .button_bar"),f=t(i+" .buttons_container");if(navigator.userAgent.match(/msie/i)&&navigator.userAgent.match(/7/))var l=!0;if(navigator.userAgent.match(/msie/i)&&navigator.userAgent.match(/8/))var _=!0;d.width(h.item_width),d.height(h.item_height),p.width(d.width()),p.height(h.item_height+15e3),u.css("margin-left",h.buttons_margin),n(),t(i+" .panel_bar").width(h.item_width),t(i+" .panel_title").width(h.item_width),t(i+" .product").css("margin-right",h.product_margin);var g=parseInt(u.css("margin-left")),w=t(i+" #btn1").position().left+g+t(i+" #btn1").width()/2-10;c.css("left",w),c.show(),t(i+" .panel_items").css("width","99999"),h.show_selected_title&&(t(i+" .selected_title_box").show(),t(i+" .selected_title").text(t("#btn1").text())),t(i+" .products_box").css("margin-left",h.products_box_margin_left),folderAssets=""!==h.folder?h.folder+"/assets":"assets",t(i+" .product").each(function(e){var n=t(this);if(""!=n.attr("title")&&"undefined"!=n.attr("title"))var o=!0;else var o=!1;var s=n.children("img");if(e++,o&&h.product_show_title){n.append("<div class='product_title' id='title_"+e+"'><p>"+n.attr("title")+"</p></div>");var a=t(i+" #title_"+e),r=s.height()-t(a).height()/2;a.css({left:(n.width()-a.width()-6)/2,top:r}),a.css({color:h.product_title_textcolor,background:h.product_title_bgcolor+" url("+folderAssets+"/title_product_bg.png) repeat"})}n.mouseenter(function(){t(a).css({overflow:"visible","max-height":80}),t(i+" #i_zoom_"+e).css({"background-position":"-24px 0"}),t(i+" #i_play_"+e).css({"background-position":"-72px 0"}),t(i+" #i_link_"+e).css({"background-position":"-120px 0"}),t(i+" #i_iframe_"+e).css({"background-position":"-168px 0"})}).mouseleave(function(){t(a).css({overflow:"hidden","max-height":11}),t(i+" #i_zoom_"+e).css({"background-position":"0 0"}),t(i+" #i_play_"+e).css({"background-position":"-48px 0"}),t(i+" #i_link_"+e).css({"background-position":"-96px 0"}),t(i+" #i_iframe_"+e).css({"background-position":"-144px 0"})}),n.children("img").addClass("img_thumb");var d=n.attr("data-type");if("book"==d?(n.append("<img class='fx_book' id='b_"+e+"' + src='"+folderAssets+"/book_fx.png' />"),t(i+" #b_"+e).css(l?{height:s.height()+4,top:n.height()-s.height()-4}:{height:s.height(),top:n.height()-s.height()})):"magazine"==d?(n.append("<img class='fx_magazine' id='m_"+e+"' + src='"+folderAssets+"/magazine_fx.png' />"),t(i+" #m_"+e).css(l?{height:s.height()+4,top:n.height()-s.height()-4}:{height:s.height(),top:n.height()-s.height()})):"cd"==d?(n.append("<img class='fx_cd' id='cd_"+e+"' + src='"+folderAssets+"/cd_fx.png' />"),t(i+" #cd_"+e).css(l?{height:s.height()+4,top:n.height()-s.height()-4}:{height:s.height(),top:n.height()-s.height()})):"dvd"==d&&(n.append("<img class='fx_cd' id='dvd_"+e+"' + src='"+folderAssets+"/dvd_fx.png' />"),t(i+" #dvd_"+e).css(l?{height:s.height()+4,top:n.height()-s.height()-4}:{height:s.height(),top:n.height()-s.height()})),n.append("<img class='fx_shadow' id='shd_"+e+"' + src='"+folderAssets+"/shadow_fx.png' />"),h.show_icons){var c=n.attr("data-url"),p=n.attr("data-popup");if(void 0!=c){var u=l?2:0;if("true"!=p||-1==c.indexOf(".jpg")&&-1==c.indexOf(".gif")&&-1==c.indexOf(".png"))if("true"!=p||-1==c.indexOf("youtube.com")&&-1==c.indexOf("vimeo.com")){if("true"==p&&""!=c&&void 0!=c){n.append("<div class='icons_sprite' id='i_iframe_"+e+"'></div>");var f=t(i+" #i_iframe_"+e);f.css({"background-position":"-144px 0",left:(s.width()-f.width())/2+u,top:n.height()-s.height()/2-f.height()/2-u,opacity:1})}else if(""!=c&&void 0!=c){n.append("<div class='icons_sprite' id='i_link_"+e+"'></div>");var _=t(i+" #i_link_"+e);_.css({"background-position":"-96px 0",left:(s.width()-_.width())/2+u,top:n.height()-s.height()/2-_.height()/2-u,opacity:1})}}else{n.append("<div class='icons_sprite' id='i_play_"+e+"'></div>");var g=t(i+" #i_play_"+e);g.css({"background-position":"-48px 0",left:(s.width()-g.width())/2+u,top:n.height()-s.height()/2-g.height()/2-u,opacity:1})}else{n.append("<div class='icons_sprite' id='i_zoom_"+e+"'></div>");var w=t(i+" #i_zoom_"+e);w.css({"background-position":"0 0",left:(s.width()-w.width())/2+u,top:n.height()-s.height()/2-w.height()/2-u,opacity:1})}}}if(n.height()!=s.height()){var v=n.height()-s.height();l?(s.css("top",v-4),t(i+" #shd_"+e).css({height:s.height()+4,left:s.width()+4,top:v-4})):(s.css("top",v),t(i+" #shd_"+e).css({height:s.height(),left:s.width(),top:v})),o&&h.product_show_title&&t(a).css("top",n.height()-t(a).height()/2)}});var v=0,m=0;u.click(function(e){e.preventDefault();var n=t(this);if(b-1==n.index())return!1;0!=parseInt(p.css("top"))&&p.animate({top:0,opacity:1},{duration:300});var s=n.attr("id"),a=t(i+" #"+s),r=a.position(),d=a.width(),u=r.left+g+d/2-10;c.animate({left:u},{duration:h.arrow_duration,easing:h.arrow_easing,complete:function(){h.show_selected_title&&t(i+" .selected_title").text(a.text())}}),m=parseInt(t(i+" .panel_slider").css("width"))*n.index(),v=-m,p.animate({left:v,top:0},{duration:h.slide_duration,easing:h.slide_easing,complete:function(){}}),x=0,I.css("opacity",.3),O.css("opacity",.3),b=n.index()+1,void 0==y[0]&&(t(p).each(function(t){y[t]=o(),b++}),b=n.index()+1),y[n.index()]?(I.css("opacity",1),k.show(),k.fadeTo("normal",1),t(i+" .panel_slider").mouseenter(function(){k.show(),k.fadeTo("normal",1)}).mouseleave(function(){k.hide()})):k.hide()});var b=0,x=0,y=[];t(i+" .panel_slider").append("<div id='more_minus_box'><input type='button' id='icon_minus' /><input type='button' id='icon_more' /></div>");var k=t(i+" #more_minus_box"),I=t(i+" #icon_more"),O=t(i+" #icon_minus");O.click(function(){if(1==O.css("opacity")){t(this).attr("disabled","disabled");var i=s();i&&(x-=143,I.css("opacity",1),p.animate({left:v,top:-x},{duration:h.slide_duration/2,easing:h.slide_easing,complete:function(){O.removeAttr("disabled")}}))}}),I.click(function(){if(1==I.css("opacity")){t(this).attr("disabled","disabled");var i=o();i&&(x+=143,O.css("opacity",1),p.animate({left:v,top:-x},{duration:h.slide_duration/2,easing:h.slide_easing,complete:function(){I.removeAttr("disabled")}}))}}),t(i+" .show_hide_titles").click(function(e){e.preventDefault(),1==t(i+" .product_title").css("opacity")?(t(i+" .product_title").stop().animate({opacity:0},400),t(this).css({opacity:.5})):(t(i+" .product_title").stop().animate({opacity:1},500),t(this).css({opacity:1}))}),t(i+" .show_hide_icons").click(function(e){e.preventDefault(),1==t(i+" .icons_sprite").css("opacity")?(t(i+" .icons_sprite").stop().animate({opacity:0},400),t(this).css({opacity:.5})):(t(i+" .icons_sprite").stop().animate({opacity:1},400),t(this).css({opacity:1}))}),t(i+" .product").click(function(i){function e(i,e,n,o){var s=t("#popup_info");s.delay(100).animate({top:c/2-s.height()/2,left:d/2-s.width()/2},400,function(){t("#preload_icon").remove()});var a=d/2-i/2-15,r=c/2-e/2;s.delay(100).animate({height:e,width:i,top:r,left:a},400,function(){if(s.append(n),t(n).fadeIn(600),""!=t(o).attr("title")&&"undefined"!=t(o).attr("title")){var e=t(o).attr("title");s.append(h.show_title_in_popup?"<div id='popup_title'><div id='bs_close_button'></div>"+e+"</div>":"<div id='popup_title'><div id='bs_close_button'></div></div>");var a=parseInt(s.css("padding-left")+i),r=parseInt(i)+parseInt(a);t("#popup_title").css({width:r,top:-(2*a),left:0}),t("#popup_title").fadeIn(200),t("#popup_title").fadeTo("normal",1),t("#bs_close_button").click(function(){t("#mask_popup").hide(),t("#mask_popup").remove(),t("#popup_info").remove()})}})}i.preventDefault();var n=t(this),o=n.attr("data-url"),s=n.attr("data-popup");if("true"!=s)return void 0==o||""==o?void 0:void window.open(o,"_blank");if("true"!=s||void 0!=o&&""!=o){t("body").append('<div id="mask_popup"></div>'),t("body").append('<div id="popup_info"></div>'),t("#popup_info").append("<img id='preload_icon' src='"+folderAssets+"/preload.gif' />");var a=t("#mask_popup"),r=t("#popup_info"),d=t(window).width(),c=t(window).height(),p=t(document).height();a.css({width:d,height:p}),a.fadeIn(400),a.fadeTo("normal",.7),r.css({top:c/2-r.height()/2,left:d/2-r.width()/2});var u=-1!=o.indexOf(".jpg")||-1!=o.indexOf(".gif")||-1!=o.indexOf(".png")?!0:!1,f=-1!=o.indexOf("youtube.com")?!0:!1,g=-1!=o.indexOf("vimeo.com")?!0:!1,w=-1!=o.indexOf(".jpg")||-1!=o.indexOf(".gif")||-1!=o.indexOf(".png")||g||f?!1:!0;if(u){var v=n;if(l||_)var m=t("<img />").attr("src",o+"?"+(new Date).getTime());else var m=t("<img />").attr("src",o);m.load(function(){this.width,this.height;if(this.width+60>d){var i=d-120,n=this.width,o=i/n*100;this.height=o/100*this.height,this.width=i}if(this.height+60>c){var i=c-120,n=this.height,o=i/n*100;this.width=o/100*this.width,this.height=i}e(this.width,this.height,m,v),t(m).hide()})}else if(f){h.video_width_height[0]>d&&(h.video_width_height[0]=d-80);var b=o.split("?v="),x="?autohide=2&autoplay=1&controls=1&disablekb=0&fs=1&hd=0&loop=0&rel=1&showinfo=0&showsearch=1&wmode=transparent&enablejsapi=1",y='<iframe class="video_player" width="'+h.video_width_height[0]+'" height="'+h.video_width_height[1]+'" frameborder="0" src="http://www.youtube.com/embed/'+b[1]+x+'"></iframe>';e(h.video_width_height[0],h.video_width_height[1],y,n)}else if(g){h.video_width_height[0]>d&&(h.video_width_height[0]=d-80);var b=o.split("/").pop(),y='<iframe class="video_player" src="http://player.vimeo.com/video/'+b+'?title=0&byline=0&portrait=0&autoplay=1" width="'+h.video_width_height[0]+'" height="'+h.video_width_height[1]+'" frameborder="0"></iframe>';e(h.video_width_height[0],h.video_width_height[1],y,n)}else if(w){if(-1!=o.indexOf("?"))var k=o.split("?size=").pop().split("&"),I=k[0].split("x"),O=I[0],M=I[1];else var O=h.iframe_width_height[0],M=h.iframe_width_height[1];-1!=O.indexOf("%")&&(O=t(window).width()-80),-1!=M.indexOf("%")&&(M=t(window).height()-100),O>d&&(O=d-120),M>c&&(M=c-120);var y='<iframe id="iframe_content" src="'+o+'" width="'+O+'" height="'+M+'" frameborder="0"></iframe>';e(O,M,y,n)}t("#mask_popup").click(function(){t("#mask_popup").hide(),t("#mask_popup").remove(),t("#popup_info").remove()})}}),t(i+" #btn1").trigger("click");var M=new Date(1,1,2e3,12,0,0),Q=!1,j=200;return t(window).resize(function(){if(M=new Date,Q===!1&&(Q=!0,setTimeout(a,j)),t(i).width()>t(window).width()){t(i).width(t(window).width()),t(i+" .slide_animate").width(t(i+" .panel_slider").width());var e=t(i+" .panel_slider").width()*(b-1);t(i+" .slide_animate").css("left",-e)}if(t(i).width()<=t(window).width()){t(i).width("100%"),t(i+" .slide_animate").width(t(i+" .panel_slider").width());var e=t(i+" .panel_slider").width()*(b-1);t(i+" .slide_animate").css("left",-e)}n(),f.css({maxWidth:"100%"});var o=t("#popup_info");if(t(i).width()>o.width()){{var s=t(window).width(),r=t(window).height();t(document).height()}o.css({top:r/2-o.height()/2,left:s/2-o.width()/2});var h=t("#mask_popup");h.css({width:s,height:r})}}),setTimeout(r,1e3),this},t.bookshelfSlider.config={item_width:355,item_height:320,products_box_margin_left:20,product_title_textcolor:"#ffffff",product_title_bgcolor:"#c33b4e",product_margin:30,product_show_title:!0,show_title_in_popup:!0,show_selected_title:!0,show_icons:!0,buttons_margin:10,buttons_align:"center",slide_duration:1e3,slide_easing:"easeInOutExpo",arrow_duration:800,arrow_easing:"easeInOutExpo",video_width_height:[500,290],iframe_width_height:[400,300],folder:""}}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,i,e,n,o){return jQuery.easing[jQuery.easing.def](t,i,e,n,o)},easeInQuad:function(t,i,e,n,o){return n*(i/=o)*i+e},easeOutQuad:function(t,i,e,n,o){return-n*(i/=o)*(i-2)+e},easeInOutQuad:function(t,i,e,n,o){return(i/=o/2)<1?n/2*i*i+e:-n/2*(--i*(i-2)-1)+e},easeInCubic:function(t,i,e,n,o){return n*(i/=o)*i*i+e},easeOutCubic:function(t,i,e,n,o){return n*((i=i/o-1)*i*i+1)+e},easeInOutCubic:function(t,i,e,n,o){return(i/=o/2)<1?n/2*i*i*i+e:n/2*((i-=2)*i*i+2)+e},easeInQuart:function(t,i,e,n,o){return n*(i/=o)*i*i*i+e},easeOutQuart:function(t,i,e,n,o){return-n*((i=i/o-1)*i*i*i-1)+e},easeInOutQuart:function(t,i,e,n,o){return(i/=o/2)<1?n/2*i*i*i*i+e:-n/2*((i-=2)*i*i*i-2)+e},easeInQuint:function(t,i,e,n,o){return n*(i/=o)*i*i*i*i+e},easeOutQuint:function(t,i,e,n,o){return n*((i=i/o-1)*i*i*i*i+1)+e},easeInOutQuint:function(t,i,e,n,o){return(i/=o/2)<1?n/2*i*i*i*i*i+e:n/2*((i-=2)*i*i*i*i+2)+e},easeInSine:function(t,i,e,n,o){return-n*Math.cos(i/o*(Math.PI/2))+n+e},easeOutSine:function(t,i,e,n,o){return n*Math.sin(i/o*(Math.PI/2))+e},easeInOutSine:function(t,i,e,n,o){return-n/2*(Math.cos(Math.PI*i/o)-1)+e},easeInExpo:function(t,i,e,n,o){return 0==i?e:n*Math.pow(2,10*(i/o-1))+e},easeOutExpo:function(t,i,e,n,o){return i==o?e+n:n*(-Math.pow(2,-10*i/o)+1)+e},easeInOutExpo:function(t,i,e,n,o){return 0==i?e:i==o?e+n:(i/=o/2)<1?n/2*Math.pow(2,10*(i-1))+e:n/2*(-Math.pow(2,-10*--i)+2)+e},easeInCirc:function(t,i,e,n,o){return-n*(Math.sqrt(1-(i/=o)*i)-1)+e},easeOutCirc:function(t,i,e,n,o){return n*Math.sqrt(1-(i=i/o-1)*i)+e},easeInOutCirc:function(t,i,e,n,o){return(i/=o/2)<1?-n/2*(Math.sqrt(1-i*i)-1)+e:n/2*(Math.sqrt(1-(i-=2)*i)+1)+e},easeInElastic:function(t,i,e,n,o){var s=1.70158,a=0,r=n;if(0==i)return e;if(1==(i/=o))return e+n;if(a||(a=.3*o),r<Math.abs(n)){r=n;var s=a/4}else var s=a/(2*Math.PI)*Math.asin(n/r);return-(r*Math.pow(2,10*(i-=1))*Math.sin(2*(i*o-s)*Math.PI/a))+e},easeOutElastic:function(t,i,e,n,o){var s=1.70158,a=0,r=n;if(0==i)return e;if(1==(i/=o))return e+n;if(a||(a=.3*o),r<Math.abs(n)){r=n;var s=a/4}else var s=a/(2*Math.PI)*Math.asin(n/r);return r*Math.pow(2,-10*i)*Math.sin(2*(i*o-s)*Math.PI/a)+n+e},easeInOutElastic:function(t,i,e,n,o){var s=1.70158,a=0,r=n;if(0==i)return e;if(2==(i/=o/2))return e+n;if(a||(a=.3*o*1.5),r<Math.abs(n)){r=n;var s=a/4}else var s=a/(2*Math.PI)*Math.asin(n/r);return 1>i?-.5*r*Math.pow(2,10*(i-=1))*Math.sin(2*(i*o-s)*Math.PI/a)+e:r*Math.pow(2,-10*(i-=1))*Math.sin(2*(i*o-s)*Math.PI/a)*.5+n+e},easeInBack:function(t,i,e,n,o,s){return void 0==s&&(s=1.70158),n*(i/=o)*i*((s+1)*i-s)+e},easeOutBack:function(t,i,e,n,o,s){return void 0==s&&(s=1.70158),n*((i=i/o-1)*i*((s+1)*i+s)+1)+e},easeInOutBack:function(t,i,e,n,o,s){return void 0==s&&(s=1.70158),(i/=o/2)<1?n/2*i*i*(((s*=1.525)+1)*i-s)+e:n/2*((i-=2)*i*(((s*=1.525)+1)*i+s)+2)+e},easeInBounce:function(t,i,e,n,o){return n-jQuery.easing.easeOutBounce(t,o-i,0,n,o)+e},easeOutBounce:function(t,i,e,n,o){return(i/=o)<1/2.75?7.5625*n*i*i+e:2/2.75>i?n*(7.5625*(i-=1.5/2.75)*i+.75)+e:2.5/2.75>i?n*(7.5625*(i-=2.25/2.75)*i+.9375)+e:n*(7.5625*(i-=2.625/2.75)*i+.984375)+e},easeInOutBounce:function(t,i,e,n,o){return o/2>i?.5*jQuery.easing.easeInBounce(t,2*i,0,n,o)+e:.5*jQuery.easing.easeOutBounce(t,2*i-o,0,n,o)+.5*n+e}});